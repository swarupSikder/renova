{% extends "events/dashboard.html" %}
{% block title %}Change Password{% endblock %}
{% block content %}

<div class="flex justify-center items-center min-h-[80vh] px-4">
    <div class="relative w-2/7 max-w-lg bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-gray-200 dark:border-gray-700 animate-fadeIn">

        <!-- Title -->
        <h1 class="text-3xl font-bold mb-8 text-center text-orange-600 dark:text-orange-400 flex items-center justify-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 11c0-1.104.896-2 2-2h4a2 2 0 012 2v1a4 4 0 01-4 4h-1m-4-5V7a4 4 0 118 0v4" />
            </svg>
            Change Password
        </h1>

        <!-- Form -->
        <form method="post" class="space-y-6">
            {% csrf_token %}
            {% for field in form %}
            <div class="relative">
                <!-- Floating label -->
                <input type="password" name="{{ field.name }}" id="{{ field.id_for_label }}"
                    class="peer w-full px-4 pt-5 pb-2 border bg-white rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 placeholder-transparent"
                    placeholder="{{ field.label }}">
                <label for="{{ field.id_for_label }}"
                    class="absolute left-4 top-2 text-gray-500 dark:text-gray-400 text-sm transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base">
                    {{ field.label }}
                </label>

                <!-- Show/Hide password toggle -->
                <button type="button" onclick="togglePassword('{{ field.id_for_label }}', this)"
                    class="absolute right-3 top-4 text-gray-400 hover:text-orange-500 transition">
                    👁️
                </button>

                {% if field.errors %}
                <p class="text-sm text-red-500 mt-1">{{ field.errors|join:", " }}</p>
                {% endif %}
            </div>
            {% endfor %}

            <!-- Submit Button -->
            <button type="submit"
                class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 rounded-lg shadow-lg transform hover:scale-[1.02] transition-all duration-200">
                Update Password
            </button>
        </form>

        <!-- Back to Dashboard -->
        <div class="mt-6 text-center">
            <a href="{% url 'dashboard' %}" class="text-orange-600 hover:text-orange-700 font-medium">
                ← Back to Dashboard
            </a>
        </div>
    </div>
</div>

<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeIn {
        animation: fadeIn 0.5s ease-in-out;
    }
</style>

<script>
    function togglePassword(id, btn) {
        const input = document.getElementById(id);
        if (input.type === "password") {
            input.type = "text";
            btn.textContent = "🙈";
        } else {
            input.type = "password";
            btn.textContent = "👁️";
        }
    }
</script>

{% endblock %}